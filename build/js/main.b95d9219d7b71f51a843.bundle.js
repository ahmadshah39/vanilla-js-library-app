(()=>{"use strict";class e{constructor(e,t,o){this.title=e,this.author=t,this.isbn=o}}class t{static displayBooksInUI(e,o){const s=document.querySelector(".no-books");if(0===e.length)return s.classList.remove("hidden"),void(s.innerHTML=!0===o?"No such books inside the inventory...":"No books inside the inventory...");s.classList.add("hidden"),document.querySelector("#bookList").innerHTML="",e.forEach((e=>t.addBookToUI(e)))}static addBookToUI(e){const t=document.querySelector("#bookList"),o=document.createElement("tr");o.classList.add("border"),o.innerHTML=`\n    <td class="border px-2 py-1">${e.title}</td>\n    <td class="border px-2 py-1">${e.author}</td>\n    <td class="border px-2 py-1">${e.isbn}</td>\n    <td class="border px-2 py-1">\n      <a\n        class="\n          text-red-600\n          hover:text-red-500\n          active:text-red-700\n          focus:ring-1 focus:ring-offset-1 focus:ring-red-400\n        "\n        href="#!"\n        ><i class="fas fa-trash delete"></i\n      ></a>\n    </td>\n  `,t.appendChild(o)}static filterbooks(e){document.querySelector("#bookList").innerHTML="";const s=o.getBooks().filter((t=>{const{title:o,author:s,isbn:n}=t;if(o.indexOf(e)>-1||s.indexOf(e)>-1||n.indexOf(e)>-1)return t}));t.displayBooksInUI(s,!0)}static removeBook(e){e.parentElement.parentElement.parentElement.remove()}static showAlert(e,t){const o=document.createElement("div");t="success"===t?"bg-green-400":"bg-red-400",o.className=`\n    ${t}\n    alert\n    text-white\n    px-4\n    py-1\n    fixed\n    top-5\n    right-5\n    duration-1000\n    transition\n    transform\n    -translate-x-10\n    `,o.innerHTML=e,document.querySelector("body").appendChild(o),setTimeout((()=>document.querySelector(".alert").remove()),1500)}static clearFeilds(){const e=document.querySelector("#addBookForm");e.title.value="",e.author.value="",e.isbn.value=""}}class o{static getBooks(){let e;return e=null===localStorage.getItem("books")?[]:JSON.parse(localStorage.getItem("books")),e}static addbook(e){const t=this.getBooks();t.push(e),localStorage.setItem("books",JSON.stringify(t))}static removeBook(e){let t=o.getBooks();t.forEach(((o,s)=>{o.isbn===e&&t.splice(s,1)})),localStorage.setItem("books",JSON.stringify(t))}}document.addEventListener("DomContentLoaded",t.displayBooksInUI(o.getBooks()));const s=document.querySelector("#addBookForm");s.addEventListener("submit",(n=>{n.preventDefault();const r=s.title.value,a=s.author.value,i=s.isbn.value;if(""===r||""==a||""===i)return void t.showAlert("Please fill the values","danger");const d=new e(r,a,i);t.addBookToUI(d),o.addbook(d),t.showAlert("A New Book has been Added","success"),t.clearFeilds(),o.getBooks().length>0&&document.querySelector(".no-books").classList.add("hidden")})),document.querySelector("#bookList").addEventListener("click",(e=>{if(e.preventDefault(),e.target.classList.contains("delete")){if(o.removeBook(e.target.parentElement.parentElement.previousElementSibling.textContent),t.removeBook(e.target),0===o.getBooks().length){const e=document.querySelector(".no-books");e.innerHTML="No books left inside the inventory...",e.classList.remove("hidden")}t.showAlert("Book was successfully deleted","success")}})),document.querySelector("#search").addEventListener("keyup",(e=>{""===e.target.value?t.displayBooksInUI(o.getBooks(),!1):t.filterbooks(e.target.value)}))})();